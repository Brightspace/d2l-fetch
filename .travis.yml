language: node_js
node_js: stable
addons:
  firefox: latest
script:
- npm run build
- npm run test:lint
- xvfb-run wct --skip-plugin sauce
- 'if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then wct --skip-plugin local; fi'
- ./update.sh
env:
  global:
  # SAUCE_USERNAME
  - secure: 9NEfhUpW6pf647+Yx0a1hztJlJUVjgsm+gxnwtcF2e+5bhJPrX8c6yL6YSLwatI+ZUWdX39D2K+AXA8Vt/dCyx6KXTxUYLIKu/sfu21RpfArt9XLei+ykc9EM3pWaYA1vZ36LVhoh+7Yw7/hHhPeANUbn9cgl7yfxvDxJpObom02E51IaFgfPYEK9gmeBgbnMHCAJfY1dUEVI6RQ7yg7RtRaGXjd5hDG0Z5BGhyBgdIfmONx1bSvh0ULlyj0a0SZvooi7VrniNU94iZCKNv814PZIA/HnfwbtorRXLQgOLIjLZAQewJ3bzv1xJYqNnK+z/W7b13T2Q+nvTBC8OeYAd4RubZkaZYjrnlZGYB22FWGnsNY61S3A66tAXZTIiOK3iXy/uR7tZvLxIBRa5fU2RBzAMxTNfE1CYRzgujxSFrgGzsw1Yjq21hbIkEzSLx+E1P4HBCmfX+qgcWsqgKruZ57OHKGhtB2D3tLVbEOnVwyAEB6z2BvpLurGWD6DRmJ8aUzUMOGY8kxWIKnqGf6eUSOpDJXyFSIch4EJvrVrzGNyOWok+bqzfDl4h6RdBASG8NafGtlXLRpBUReL8nQzwsHg6OYtOG8PYBNBbBuDGCdLKOIrda1nf+QCkV6hc81PExdGyiXFJ+ES0yPi6E5D7lp66g+wE/5gN9uafV2U5A=
  # SAUCE_ACCESS_KEY
  - secure: kLaCeUCbChOh/PjvINbhcVp3Hnf6t9dyn1/QPqWhfjs4Pr4GnYrGb8+VC6hkLXvlfeKObtEovDc8swDxFBr2iAVEklguYyRo+l+O3DcSStoOWhnpQ2dk5oZEDkpEvLSEly6Fh6z9hM8I4r7T+fCp+3ftJ7E/f4gvqh/x424t9KGbsM6PMPBDeWRS8cVKniSDBIGdQ2IS/Dnn1P6nfP1XZ5+9+aJBkKJO8348bMpNLfrjTgHtiwrcLtR8DfXwk4LG+OCNh63dP4QLCGlwjrPyFXxgrHsYHIQVXWZm8I0EnYvcXX9tdlTODe7/QnoOATFCxAxIGrmEbWP/SYQwl0Z4jyGu55X82LYnuY2UeypZvbQwFFOs0mpa7gbwtLcvKh87yGawqSHbImxHfA/8oQdkIWr4oFdxVklLIAhQzfO8cDunrwa/yTqPUCn36o6GaOfB8yb0lfImZ+UpKgR8yXnHNTNH45ooyaYuc3BTeKZUSshkV5yuTacM2f68HHXA2cYPlPrLtrAbr88pjzZNTqGl0OIR7JQkuPxnbpMPOkQeyAq8ZXmFbVGhMVUr+HLqkdBGtfS445fi86vYSggxpsvysv78lnO0wCG5zdwQta0cY0OYL9zo7l/BW9cJl2yQyxXxm45+nbjogcI/Q0Nj0+I0aGwTIpxfOCjaILYY4qq/JrI=
  # CDN_SECRET
  - secure: 7qtDg3kcd6mnFtPqmO/NIvLAtzAIODpZQKp+d7/gqMuVF+nolmSFyXs2NIrMLcWqL2V0LiX1tElhExkvGdFvO4dmTCWW4eOWhnN3+clAwry025KGjyX/ABsrSAFrFOA2jbAb4elv49GZfmkIbWr50vCkWl3NHkfrsZeE7b89Ki9DOS2lfuOVnup6vi8iJ4CNpiWopGF7WSEF47bJUMOVDV7D/+H8HQ/CbHdHzrEYf2KwqC942WG/uqqZcu0/h7CLj/jaGndzJCi/K+ucIdLz9jAYmcZrRUaW/h8avIjNJm09kB5oin1GEWjrEwyogiGktAm6CHUZAM3vg+H3BiF0Qv2yJErr3iqtMlq2B1sAhISo9CbRc3R/HRwn/hO+ZAdv7eKLuklbImDIj9aOH63SXeIHAX46Ryqh/6/0YTiOkGufYskNbzZfiBRNsQNm1YBBExDmiU3NGlrC6uFLP5FmOOjm6ybN+RNA0W7iLVyKpeUH8NiVr2Hb9YCynCVy3jd9aA4qMmWwyV5CkLCAAOJ0Pvx5EdQsSUfyE9ItlsSMZuM4BP4AABuxsiSSX9wi9xvdCzz0xP8nnkHHFkMcYgPEQuFAIv7/yYykKNRK/8fDSz03R6p9O2D8DCJP35p/6eAVmYlc1jSobXAktGykOuxypoaF454va6qI+lS9+T3xBPg=
  # GITHUB_RELEASE_TOKEN
  - secure: IgNPHGS2aBYYsK0uaCl0i3edHZscp5gO057y7UYC57mSRU63mylsvwhsm/gx+X+71sVCUHb7+su8trjY0I7A5v7GpBQgBqZodIauRMrY7JfOwtPp8qGMWEn6xkF1sTSdVTNSt59phn1L3UGtx3EIOQ0C5U5CvX1XOC+XO1xTXKBy6Dzyib8YJCUd/rQoeID8bdAJiJk3cqefnuW5u/ecAc8xSenva+fTTvAx34PeaSIVK4SaGnITRlYl56WZtrCRyuglqwwra4ck6lQhUyZhSN3oKB6Rpu9r5Q4iAZaG2RFDOT44MviWnmm+xFKMED3sS7gg7pHJWd0+MS6my4y5wrjtjtCkUWbDLE2PNwi+ou3m2QSz5humakHCapC6FWJUJuKWwOo146R06YVUdYyy88yFTnvSC7WPfvQcYxWVFSAv0s4QqVUWYmM7hKOR5CzUMUxfLczfEL8BB2wo0xIHWKJhY8BBpkY9gRvifT8+ZkGRmhtZfmQ2nyucYxXJKZenvBocL0IGAPiALSIHmCkk1w5zjV+9FtDxAxu9XG5oBq7xMiLRMyKrsqHSyJSD4BPc9HLJ8RFx+tJnpyIwxOQHI+Row45K72l3TZp0YhFe04xCNHpjSYIHF+HoAx4edo+uCnl1HuyG75To6csa2rtAiAVO6wJHowZPHypMmyHB9sU=
