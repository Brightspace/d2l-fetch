language: node_js
node_js: stable
script:
- npm run build
- npm run test:lint
- wct --skip-plugin local
- 'if [ "$TRAVIS_BRANCH" == "master" ]; then frauci-update-version && export TRAVIS_TAG=$(frauci-get-version) && npm run build && npm run publish-release; fi'
env:
  global:
  - REPO_NAME=d2l=fetch
  # SAUCE_USERNAME
  - secure: QMvgiC3qkVhV4RJoAJW4B782g0t7jzV0bNt72WMu/lstz6ZhfNqebBbQmTvBsrxHmM0DTMllkPoNgawTY5YkRsmOtiExB3J/SWcTMlSFd2PrCcY/arMkFucFiNdrzeNz9ZKYOd3sQvoYEQ9DgebmjZLa5iytChtnWuaL16iTQgf+cBLJ6d5EuhhvP7+Q6MGNPHeXmJTJ/9dHJJG5uG0ggP6sdvtvpdc1gtWkcdkuN3qTGCRHKKFe01UDHdyEFFv/usdUUAwe03r4F0MNDIgQn4LjcHzsbzDOOhaGRsfs9rjXAiRCtYO947GCefxwJzoWZW8Yi05Q5eWBpLHFLlkp3olh4nFdEUQ3vhd7A5XTCsYYTGbVEcH914dooJZzAsZtkKbD2OexwEXBJZAhK78lwyF2LdHVi3UAHQJfhF6pTP3TDgOxPfe0tpROZyR7KM3xRoZBh38z2Hf66LmsU0G7JUWGlUDm5ffoHcbBZFdkX1RuS8+KBLjBQVPgs/cXes8ZmIFYNU4+FjjrxrlsEkFbNgsmUq86K7znWpmlDVQV7MGbgyRNWagIlTdc2GcNZMMqI/viMD6l/UnHSOClPsukGIHe+eEN1gu3NPXWiBj7/0XISr8IRI2ZoGo+bdxMVphW8PcNGuYG7UYpHYrFmU0+iLaEkPPzvGYCTvtGzHVmtTs=
  # CDN_SECRET
  - secure: ufQOl55kHbsimixZzt1mWoigB/92f07BzODcZxvJNGeriJ2wG56FtVR5ejiyyi5rCOlQVSCDGwNi1jlhISebN0oTCZYu7WYoBM+6fkkAvQEIjnWjRSSG98DwPX/CIpjvvop1ZFzBGvlZNi/Ee6OdIRIgR6YvbtM0eFye+L4B2elFZe5EnJWCbKHOUHC8p7ckjM1QEQpQ6Uwc2ADKoAa0TFihFRu06Tv7hyVboctDMX+AmcdouUzPMBC2mJwY5sdfafRNGaRLWoSUH3g4zUxKAHPA/V2CLXLM3TbDMPZ4N0VgnRpUYmWYu8JZdR5aHmMyy8H16Gx5yG5nN4n4G3mgn/dLt7fHdftxvcuuYPG4vxBFTGjhMXcgBYt/aIqVN2y9ycE6ElhrulVBuC8GZ8rAvVd8v2pFovOtHWFKwsKDcVDjWwKa25ZsMD18QjjXMTjm6cbV1BfInRX6K3veqMX/BsFeR6TpW7kXTyKnozv+s1o+44h4jWHOSu9V/yY3vxfO21dgqNPw0s82+RZ3eB/X72SMGv8s5oVYVBiVhtPDT2Md5XA5lSXS80yfpTh+wuGIuKDUf7pYgi4/DbPWo7erELAp5TUhYpU0BsvJe75BVqw36u1yNfZlZIJ4xDQRDtYbDKp9XrcNN5dxrFJGTE/Rpnf1hsRCUtwtbgRawQ/ScNQ=
  # GITHUB_RELEASE_TOKEN
  - secure: ighLi0Sp1VkZcuRgXM3PSiYX/EqdAdMgJtG40p3AEaIKAHZIVZAW2995Il0MupOWVx5Z48LUPaW8yw5s6ZQ2kBNL4bN2gYXehrW07iKzI2UH9VxVbmPQY+OzngTnaMWACOKDvUgZOaZUGlehBNariQa2CVSdbi027DCFkw1KLHRWGR/Ny0VNPoKWe+3zh+MYOTxr7nK3adX1vv7viGmnu/rGGzu+vnqBx5BQ+evjpusrOJAFWkF47Ks4qnEBY03CEKDJYk6j7xDCVkX2ohure6Rcymd9MlqhLpXgTnkxrCj2x9mAMafgWCoohEmeHVvcWXgXgSBPBOQQNTEWWsNimbPLRSgFbw8Wpi4ROjib8oJl8WBWE0PwllQc7PP7GLu6hJ5ypYgiuaS7COxs+Ce7VBJNw7LUfzRIUKQvRIvl+IWaZcETOd3EQeLYnI9kikU5rSbAlZZ00sGrLJtxoIL/zQ2N0mtd9laC1r7bLf6+svOpnLO8iqoMmCEX8YEdAlM3J/GcjFLUS5zRFZ8TVqDkMBzxUE3zd2RfNpO7qoqhvSEbmWBkru5vtz5t8OMZ9xO08od+GS8Jy8+aLMJ0e3H95Q3+J7FxB0fPnXLkP5SaMKDQtPfUGBhmc0gD8bdLlGEhhleOm2LDZ23XJ2KvTk7t0keYboWg0huy1GhFcdDAU5k=
addons:
  jwt:
    #SAUCE_ACCESS_KEY
    secure: Ye9aeswEppvvecnIEcS6EDeyh3FrLpwAUF/khBYNF10r4vPuY78G0CDYaNcn0peN2aemYUsjsNYfEEDGEmx744dZE/128Nl9WwKOFcV6xsDJeHg8myOP3t5G5D+zfVlKZ6yVLZdYrv7ho1PPYgsnrIXZ/esGXlGlKWgENZsRnJO9MDmISc9eirAeH6fhBf/GWqWOrHObAvCoH0TelEJG4UY7Tl4TcqxvcLoVfMMSHBlU0472yyZGwkQk6DUYlx8TAhKsyi9LxrRchG0qv+hxU5FnNd/v/md+KPCRp1gga/T2PS3MxIv6N+Xsktfq1BDl4h43DwOAXeFCaOp6+xb0mw5X/eYlUuv8WG5dfZAHpfd2K9Af6HoTfd9IO98jLdfxyMEVBgr6ZLRZUa69rmAGpaFa26ZLn0Xi4PPqWfDhHkL0a6Ro/UkTK3l9fwZRylBlFVJ5/NobdOTRCXWykHd7wopBX8pyCQPsr/4keXpbHwqTWA+mj/5aNsMysqgDlMxi7Iz55QYNZTcGi0N39HLGL6DyZthLh33JelUzv1lGvDZP2k7jL3tK5+b9LuEkkFjBzxrBaifk+8e0HEtvDTnI8DD5x6mUiwpIsbWyGhKoEUrHi7QgKR8vC5OxgMH+e0DGw3Vh3QbxDPCZ6yPeQq8tgtthrkBkiO04KoRaDaiVF2s=
